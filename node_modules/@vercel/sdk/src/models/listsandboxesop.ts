/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import { Result as SafeParseResult } from "../types/fp.js";
import * as types from "../types/primitives.js";
import { smartUnion } from "../types/smartUnion.js";
import {
  Sandbox,
  Sandbox$inboundSchema,
  Sandbox$Outbound,
  Sandbox$outboundSchema,
} from "./sandbox.js";
import { SDKValidationError } from "./sdkvalidationerror.js";

export type ListSandboxesRequest = {
  /**
   * The unique identifier or name of the project to list sandboxes for.
   */
  project?: string | undefined;
  /**
   * Maximum number of sandboxes to return in the response. Used for pagination.
   */
  limit?: number | undefined;
  /**
   * Filter sandboxes created after this timestamp. Specified as Unix time in milliseconds.
   */
  since?: number | undefined;
  /**
   * Filter sandboxes created before this timestamp. Specified as Unix time in milliseconds.
   */
  until?: number | undefined;
  /**
   * The Team identifier to perform the request on behalf of.
   */
  teamId?: string | undefined;
  /**
   * The Team slug to perform the request on behalf of.
   */
  slug?: string | undefined;
};

export type ListSandboxesResponseBodyPagination = {
  total: number;
  /**
   * Amount of items in the current page.
   */
  count: number;
  /**
   * Timestamp that must be used to request the next page.
   */
  next: number | null;
  /**
   * Timestamp that must be used to request the previous page.
   */
  prev: number | null;
};

export type ListSandboxesResponseBody2 = {
  sandboxes: Array<Sandbox>;
  pagination: ListSandboxesResponseBodyPagination;
};

export type ListSandboxesResponseBody1 = {};

/**
 * The list of sandboxes matching the request filters.
 */
export type ListSandboxesResponseBody =
  | ListSandboxesResponseBody2
  | ListSandboxesResponseBody1;

/** @internal */
export const ListSandboxesRequest$inboundSchema: z.ZodType<
  ListSandboxesRequest,
  z.ZodTypeDef,
  unknown
> = z.object({
  project: types.optional(types.string()),
  limit: types.optional(types.number()),
  since: types.optional(types.number()),
  until: types.optional(types.number()),
  teamId: types.optional(types.string()),
  slug: types.optional(types.string()),
});
/** @internal */
export type ListSandboxesRequest$Outbound = {
  project?: string | undefined;
  limit?: number | undefined;
  since?: number | undefined;
  until?: number | undefined;
  teamId?: string | undefined;
  slug?: string | undefined;
};

/** @internal */
export const ListSandboxesRequest$outboundSchema: z.ZodType<
  ListSandboxesRequest$Outbound,
  z.ZodTypeDef,
  ListSandboxesRequest
> = z.object({
  project: z.string().optional(),
  limit: z.number().optional(),
  since: z.number().optional(),
  until: z.number().optional(),
  teamId: z.string().optional(),
  slug: z.string().optional(),
});

export function listSandboxesRequestToJSON(
  listSandboxesRequest: ListSandboxesRequest,
): string {
  return JSON.stringify(
    ListSandboxesRequest$outboundSchema.parse(listSandboxesRequest),
  );
}
export function listSandboxesRequestFromJSON(
  jsonString: string,
): SafeParseResult<ListSandboxesRequest, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListSandboxesRequest$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListSandboxesRequest' from JSON`,
  );
}

/** @internal */
export const ListSandboxesResponseBodyPagination$inboundSchema: z.ZodType<
  ListSandboxesResponseBodyPagination,
  z.ZodTypeDef,
  unknown
> = z.object({
  total: types.number(),
  count: types.number(),
  next: types.nullable(types.number()),
  prev: types.nullable(types.number()),
});
/** @internal */
export type ListSandboxesResponseBodyPagination$Outbound = {
  total: number;
  count: number;
  next: number | null;
  prev: number | null;
};

/** @internal */
export const ListSandboxesResponseBodyPagination$outboundSchema: z.ZodType<
  ListSandboxesResponseBodyPagination$Outbound,
  z.ZodTypeDef,
  ListSandboxesResponseBodyPagination
> = z.object({
  total: z.number(),
  count: z.number(),
  next: z.nullable(z.number()),
  prev: z.nullable(z.number()),
});

export function listSandboxesResponseBodyPaginationToJSON(
  listSandboxesResponseBodyPagination: ListSandboxesResponseBodyPagination,
): string {
  return JSON.stringify(
    ListSandboxesResponseBodyPagination$outboundSchema.parse(
      listSandboxesResponseBodyPagination,
    ),
  );
}
export function listSandboxesResponseBodyPaginationFromJSON(
  jsonString: string,
): SafeParseResult<ListSandboxesResponseBodyPagination, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) =>
      ListSandboxesResponseBodyPagination$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListSandboxesResponseBodyPagination' from JSON`,
  );
}

/** @internal */
export const ListSandboxesResponseBody2$inboundSchema: z.ZodType<
  ListSandboxesResponseBody2,
  z.ZodTypeDef,
  unknown
> = z.object({
  sandboxes: z.array(Sandbox$inboundSchema),
  pagination: z.lazy(() => ListSandboxesResponseBodyPagination$inboundSchema),
});
/** @internal */
export type ListSandboxesResponseBody2$Outbound = {
  sandboxes: Array<Sandbox$Outbound>;
  pagination: ListSandboxesResponseBodyPagination$Outbound;
};

/** @internal */
export const ListSandboxesResponseBody2$outboundSchema: z.ZodType<
  ListSandboxesResponseBody2$Outbound,
  z.ZodTypeDef,
  ListSandboxesResponseBody2
> = z.object({
  sandboxes: z.array(Sandbox$outboundSchema),
  pagination: z.lazy(() => ListSandboxesResponseBodyPagination$outboundSchema),
});

export function listSandboxesResponseBody2ToJSON(
  listSandboxesResponseBody2: ListSandboxesResponseBody2,
): string {
  return JSON.stringify(
    ListSandboxesResponseBody2$outboundSchema.parse(listSandboxesResponseBody2),
  );
}
export function listSandboxesResponseBody2FromJSON(
  jsonString: string,
): SafeParseResult<ListSandboxesResponseBody2, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListSandboxesResponseBody2$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListSandboxesResponseBody2' from JSON`,
  );
}

/** @internal */
export const ListSandboxesResponseBody1$inboundSchema: z.ZodType<
  ListSandboxesResponseBody1,
  z.ZodTypeDef,
  unknown
> = z.object({});
/** @internal */
export type ListSandboxesResponseBody1$Outbound = {};

/** @internal */
export const ListSandboxesResponseBody1$outboundSchema: z.ZodType<
  ListSandboxesResponseBody1$Outbound,
  z.ZodTypeDef,
  ListSandboxesResponseBody1
> = z.object({});

export function listSandboxesResponseBody1ToJSON(
  listSandboxesResponseBody1: ListSandboxesResponseBody1,
): string {
  return JSON.stringify(
    ListSandboxesResponseBody1$outboundSchema.parse(listSandboxesResponseBody1),
  );
}
export function listSandboxesResponseBody1FromJSON(
  jsonString: string,
): SafeParseResult<ListSandboxesResponseBody1, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListSandboxesResponseBody1$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListSandboxesResponseBody1' from JSON`,
  );
}

/** @internal */
export const ListSandboxesResponseBody$inboundSchema: z.ZodType<
  ListSandboxesResponseBody,
  z.ZodTypeDef,
  unknown
> = smartUnion([
  z.lazy(() => ListSandboxesResponseBody2$inboundSchema),
  z.lazy(() => ListSandboxesResponseBody1$inboundSchema),
]);
/** @internal */
export type ListSandboxesResponseBody$Outbound =
  | ListSandboxesResponseBody2$Outbound
  | ListSandboxesResponseBody1$Outbound;

/** @internal */
export const ListSandboxesResponseBody$outboundSchema: z.ZodType<
  ListSandboxesResponseBody$Outbound,
  z.ZodTypeDef,
  ListSandboxesResponseBody
> = smartUnion([
  z.lazy(() => ListSandboxesResponseBody2$outboundSchema),
  z.lazy(() => ListSandboxesResponseBody1$outboundSchema),
]);

export function listSandboxesResponseBodyToJSON(
  listSandboxesResponseBody: ListSandboxesResponseBody,
): string {
  return JSON.stringify(
    ListSandboxesResponseBody$outboundSchema.parse(listSandboxesResponseBody),
  );
}
export function listSandboxesResponseBodyFromJSON(
  jsonString: string,
): SafeParseResult<ListSandboxesResponseBody, SDKValidationError> {
  return safeParse(
    jsonString,
    (x) => ListSandboxesResponseBody$inboundSchema.parse(JSON.parse(x)),
    `Failed to parse 'ListSandboxesResponseBody' from JSON`,
  );
}
