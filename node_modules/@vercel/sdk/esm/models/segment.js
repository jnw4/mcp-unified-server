/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import * as types from "../types/primitives.js";
import { smartUnion } from "../types/smartUnion.js";
export const SegmentTypeName = {
    Segment: "segment",
};
export const SegmentOutcomeDataRulesType = {
    Entity: "entity",
};
export const SegmentRhsDataType = {
    Regex: "regex",
};
export const SegmentRhsType = {
    ListInline: "list/inline",
    List: "list",
};
export const SegmentCmp = {
    Eq: "eq",
    NotEq: "!eq",
    OneOf: "oneOf",
    NotOneOf: "!oneOf",
    ContainsAllOf: "containsAllOf",
    ContainsAnyOf: "containsAnyOf",
    ContainsNoneOf: "containsNoneOf",
    StartsWith: "startsWith",
    NotStartsWith: "!startsWith",
    EndsWith: "endsWith",
    NotEndsWith: "!endsWith",
    Ex: "ex",
    NotEx: "!ex",
    Gt: "gt",
    Gte: "gte",
    Lt: "lt",
    Lte: "lte",
    Regex: "regex",
    NotRegex: "!regex",
    Before: "before",
    After: "after",
};
/** @internal */
export const SegmentTypeName$inboundSchema = z.nativeEnum(SegmentTypeName);
/** @internal */
export const SegmentTypeName$outboundSchema = SegmentTypeName$inboundSchema;
/** @internal */
export const SegmentOutcomeDataRulesType$inboundSchema = z.nativeEnum(SegmentOutcomeDataRulesType);
/** @internal */
export const SegmentOutcomeDataRulesType$outboundSchema = SegmentOutcomeDataRulesType$inboundSchema;
/** @internal */
export const SegmentOutcomeBase$inboundSchema = z.object({
    type: SegmentOutcomeDataRulesType$inboundSchema,
    kind: types.string(),
    attribute: types.string(),
});
/** @internal */
export const SegmentOutcomeBase$outboundSchema = z.object({
    type: SegmentOutcomeDataRulesType$outboundSchema,
    kind: z.string(),
    attribute: z.string(),
});
export function segmentOutcomeBaseToJSON(segmentOutcomeBase) {
    return JSON.stringify(SegmentOutcomeBase$outboundSchema.parse(segmentOutcomeBase));
}
export function segmentOutcomeBaseFromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentOutcomeBase$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentOutcomeBase' from JSON`);
}
/** @internal */
export const SegmentOutcome2$inboundSchema = z.object({
    type: types.literal("split"),
    base: z.lazy(() => SegmentOutcomeBase$inboundSchema),
    passPromille: types.number(),
});
/** @internal */
export const SegmentOutcome2$outboundSchema = z.object({
    type: z.literal("split"),
    base: z.lazy(() => SegmentOutcomeBase$outboundSchema),
    passPromille: z.number(),
});
export function segmentOutcome2ToJSON(segmentOutcome2) {
    return JSON.stringify(SegmentOutcome2$outboundSchema.parse(segmentOutcome2));
}
export function segmentOutcome2FromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentOutcome2$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentOutcome2' from JSON`);
}
/** @internal */
export const SegmentOutcome1$inboundSchema = z.object({
    type: types.literal("all"),
});
/** @internal */
export const SegmentOutcome1$outboundSchema = z.object({
    type: z.literal("all"),
});
export function segmentOutcome1ToJSON(segmentOutcome1) {
    return JSON.stringify(SegmentOutcome1$outboundSchema.parse(segmentOutcome1));
}
export function segmentOutcome1FromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentOutcome1$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentOutcome1' from JSON`);
}
/** @internal */
export const SegmentOutcome$inboundSchema = z.union([
    z.lazy(() => SegmentOutcome1$inboundSchema),
    z.lazy(() => SegmentOutcome2$inboundSchema),
]);
/** @internal */
export const SegmentOutcome$outboundSchema = z.union([
    z.lazy(() => SegmentOutcome1$outboundSchema),
    z.lazy(() => SegmentOutcome2$outboundSchema),
]);
export function segmentOutcomeToJSON(segmentOutcome) {
    return JSON.stringify(SegmentOutcome$outboundSchema.parse(segmentOutcome));
}
export function segmentOutcomeFromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentOutcome$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentOutcome' from JSON`);
}
/** @internal */
export const SegmentRhsDataType$inboundSchema = z.nativeEnum(SegmentRhsDataType);
/** @internal */
export const SegmentRhsDataType$outboundSchema = SegmentRhsDataType$inboundSchema;
/** @internal */
export const SegmentRhs4$inboundSchema = z.object({
    type: SegmentRhsDataType$inboundSchema,
    pattern: types.string(),
    flags: types.string(),
});
/** @internal */
export const SegmentRhs4$outboundSchema = z.object({
    type: SegmentRhsDataType$outboundSchema,
    pattern: z.string(),
    flags: z.string(),
});
export function segmentRhs4ToJSON(segmentRhs4) {
    return JSON.stringify(SegmentRhs4$outboundSchema.parse(segmentRhs4));
}
export function segmentRhs4FromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentRhs4$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentRhs4' from JSON`);
}
/** @internal */
export const SegmentRhsType$inboundSchema = z.nativeEnum(SegmentRhsType);
/** @internal */
export const SegmentRhsType$outboundSchema = SegmentRhsType$inboundSchema;
/** @internal */
export const SegmentItems2$inboundSchema = z.object({
    label: types.optional(types.string()),
    note: types.optional(types.string()),
    value: types.string(),
});
/** @internal */
export const SegmentItems2$outboundSchema = z.object({
    label: z.string().optional(),
    note: z.string().optional(),
    value: z.string(),
});
export function segmentItems2ToJSON(segmentItems2) {
    return JSON.stringify(SegmentItems2$outboundSchema.parse(segmentItems2));
}
export function segmentItems2FromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentItems2$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentItems2' from JSON`);
}
/** @internal */
export const SegmentItems1$inboundSchema = z.object({
    label: types.optional(types.string()),
    note: types.optional(types.string()),
    value: types.number(),
});
/** @internal */
export const SegmentItems1$outboundSchema = z.object({
    label: z.string().optional(),
    note: z.string().optional(),
    value: z.number(),
});
export function segmentItems1ToJSON(segmentItems1) {
    return JSON.stringify(SegmentItems1$outboundSchema.parse(segmentItems1));
}
export function segmentItems1FromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentItems1$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentItems1' from JSON`);
}
/** @internal */
export const SegmentRhsItems$inboundSchema = smartUnion([
    z.lazy(() => SegmentItems1$inboundSchema),
    z.lazy(() => SegmentItems2$inboundSchema),
]);
/** @internal */
export const SegmentRhsItems$outboundSchema = smartUnion([
    z.lazy(() => SegmentItems1$outboundSchema),
    z.lazy(() => SegmentItems2$outboundSchema),
]);
export function segmentRhsItemsToJSON(segmentRhsItems) {
    return JSON.stringify(SegmentRhsItems$outboundSchema.parse(segmentRhsItems));
}
export function segmentRhsItemsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentRhsItems$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentRhsItems' from JSON`);
}
/** @internal */
export const SegmentRhs3$inboundSchema = z.object({
    type: SegmentRhsType$inboundSchema,
    items: z.array(smartUnion([
        z.lazy(() => SegmentItems1$inboundSchema),
        z.lazy(() => SegmentItems2$inboundSchema),
    ])),
});
/** @internal */
export const SegmentRhs3$outboundSchema = z.object({
    type: SegmentRhsType$outboundSchema,
    items: z.array(smartUnion([
        z.lazy(() => SegmentItems1$outboundSchema),
        z.lazy(() => SegmentItems2$outboundSchema),
    ])),
});
export function segmentRhs3ToJSON(segmentRhs3) {
    return JSON.stringify(SegmentRhs3$outboundSchema.parse(segmentRhs3));
}
export function segmentRhs3FromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentRhs3$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentRhs3' from JSON`);
}
/** @internal */
export const SegmentRhs$inboundSchema = smartUnion([
    z.lazy(() => SegmentRhs4$inboundSchema),
    z.lazy(() => SegmentRhs3$inboundSchema),
    types.string(),
    types.number(),
    types.boolean(),
]);
/** @internal */
export const SegmentRhs$outboundSchema = smartUnion([
    z.lazy(() => SegmentRhs4$outboundSchema),
    z.lazy(() => SegmentRhs3$outboundSchema),
    z.string(),
    z.number(),
    z.boolean(),
]);
export function segmentRhsToJSON(segmentRhs) {
    return JSON.stringify(SegmentRhs$outboundSchema.parse(segmentRhs));
}
export function segmentRhsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentRhs$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentRhs' from JSON`);
}
/** @internal */
export const SegmentLhs2$inboundSchema = z.object({
    type: types.literal("entity"),
    kind: types.string(),
    attribute: types.string(),
});
/** @internal */
export const SegmentLhs2$outboundSchema = z.object({
    type: z.literal("entity"),
    kind: z.string(),
    attribute: z.string(),
});
export function segmentLhs2ToJSON(segmentLhs2) {
    return JSON.stringify(SegmentLhs2$outboundSchema.parse(segmentLhs2));
}
export function segmentLhs2FromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentLhs2$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentLhs2' from JSON`);
}
/** @internal */
export const SegmentLhs1$inboundSchema = z.object({
    type: types.literal("segment"),
});
/** @internal */
export const SegmentLhs1$outboundSchema = z.object({
    type: z.literal("segment"),
});
export function segmentLhs1ToJSON(segmentLhs1) {
    return JSON.stringify(SegmentLhs1$outboundSchema.parse(segmentLhs1));
}
export function segmentLhs1FromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentLhs1$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentLhs1' from JSON`);
}
/** @internal */
export const SegmentLhs$inboundSchema = z.union([
    z.lazy(() => SegmentLhs1$inboundSchema),
    z.lazy(() => SegmentLhs2$inboundSchema),
]);
/** @internal */
export const SegmentLhs$outboundSchema = z.union([
    z.lazy(() => SegmentLhs1$outboundSchema),
    z.lazy(() => SegmentLhs2$outboundSchema),
]);
export function segmentLhsToJSON(segmentLhs) {
    return JSON.stringify(SegmentLhs$outboundSchema.parse(segmentLhs));
}
export function segmentLhsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentLhs$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentLhs' from JSON`);
}
/** @internal */
export const SegmentCmp$inboundSchema = z
    .nativeEnum(SegmentCmp);
/** @internal */
export const SegmentCmp$outboundSchema = SegmentCmp$inboundSchema;
/** @internal */
export const SegmentConditions$inboundSchema = z.object({
    rhs: types.optional(smartUnion([
        z.lazy(() => SegmentRhs4$inboundSchema),
        z.lazy(() => SegmentRhs3$inboundSchema),
        types.string(),
        types.number(),
        types.boolean(),
    ])),
    lhs: z.union([
        z.lazy(() => SegmentLhs1$inboundSchema),
        z.lazy(() => SegmentLhs2$inboundSchema),
    ]),
    cmp: SegmentCmp$inboundSchema,
});
/** @internal */
export const SegmentConditions$outboundSchema = z.object({
    rhs: smartUnion([
        z.lazy(() => SegmentRhs4$outboundSchema),
        z.lazy(() => SegmentRhs3$outboundSchema),
        z.string(),
        z.number(),
        z.boolean(),
    ]).optional(),
    lhs: z.union([
        z.lazy(() => SegmentLhs1$outboundSchema),
        z.lazy(() => SegmentLhs2$outboundSchema),
    ]),
    cmp: SegmentCmp$outboundSchema,
});
export function segmentConditionsToJSON(segmentConditions) {
    return JSON.stringify(SegmentConditions$outboundSchema.parse(segmentConditions));
}
export function segmentConditionsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentConditions$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentConditions' from JSON`);
}
/** @internal */
export const SegmentRules$inboundSchema = z.object({
    id: types.string(),
    outcome: z.union([
        z.lazy(() => SegmentOutcome1$inboundSchema),
        z.lazy(() => SegmentOutcome2$inboundSchema),
    ]),
    conditions: z.array(z.lazy(() => SegmentConditions$inboundSchema)),
});
/** @internal */
export const SegmentRules$outboundSchema = z.object({
    id: z.string(),
    outcome: z.union([
        z.lazy(() => SegmentOutcome1$outboundSchema),
        z.lazy(() => SegmentOutcome2$outboundSchema),
    ]),
    conditions: z.array(z.lazy(() => SegmentConditions$outboundSchema)),
});
export function segmentRulesToJSON(segmentRules) {
    return JSON.stringify(SegmentRules$outboundSchema.parse(segmentRules));
}
export function segmentRulesFromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentRules$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentRules' from JSON`);
}
/** @internal */
export const Include$inboundSchema = z.object({
    note: types.optional(types.string()),
    value: types.string(),
});
/** @internal */
export const Include$outboundSchema = z.object({
    note: z.string().optional(),
    value: z.string(),
});
export function includeToJSON(include) {
    return JSON.stringify(Include$outboundSchema.parse(include));
}
export function includeFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Include$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Include' from JSON`);
}
/** @internal */
export const ExcludeT$inboundSchema = z.object({
    note: types.optional(types.string()),
    value: types.string(),
});
/** @internal */
export const ExcludeT$outboundSchema = z.object({
    note: z.string().optional(),
    value: z.string(),
});
export function excludeToJSON(excludeT) {
    return JSON.stringify(ExcludeT$outboundSchema.parse(excludeT));
}
export function excludeFromJSON(jsonString) {
    return safeParse(jsonString, (x) => ExcludeT$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'ExcludeT' from JSON`);
}
/** @internal */
export const Data$inboundSchema = z
    .object({
    rules: types.optional(z.array(z.lazy(() => SegmentRules$inboundSchema))),
    include: types.optional(z.record(z.record(z.array(z.lazy(() => Include$inboundSchema))))),
    exclude: types.optional(z.record(z.record(z.array(z.lazy(() => ExcludeT$inboundSchema))))),
});
/** @internal */
export const Data$outboundSchema = z.object({
    rules: z.array(z.lazy(() => SegmentRules$outboundSchema)).optional(),
    include: z.record(z.record(z.array(z.lazy(() => Include$outboundSchema))))
        .optional(),
    exclude: z.record(z.record(z.array(z.lazy(() => ExcludeT$outboundSchema))))
        .optional(),
});
export function dataToJSON(data) {
    return JSON.stringify(Data$outboundSchema.parse(data));
}
export function dataFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Data$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Data' from JSON`);
}
/** @internal */
export const SegmentCreator$inboundSchema = z.object({
    id: types.string(),
    name: types.string(),
});
/** @internal */
export const SegmentCreator$outboundSchema = z.object({
    id: z.string(),
    name: z.string(),
});
export function segmentCreatorToJSON(segmentCreator) {
    return JSON.stringify(SegmentCreator$outboundSchema.parse(segmentCreator));
}
export function segmentCreatorFromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentCreator$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentCreator' from JSON`);
}
/** @internal */
export const SegmentMetadata$inboundSchema = z.object({
    creator: types.optional(z.lazy(() => SegmentCreator$inboundSchema)),
});
/** @internal */
export const SegmentMetadata$outboundSchema = z.object({
    creator: z.lazy(() => SegmentCreator$outboundSchema).optional(),
});
export function segmentMetadataToJSON(segmentMetadata) {
    return JSON.stringify(SegmentMetadata$outboundSchema.parse(segmentMetadata));
}
export function segmentMetadataFromJSON(jsonString) {
    return safeParse(jsonString, (x) => SegmentMetadata$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'SegmentMetadata' from JSON`);
}
/** @internal */
export const Segment$inboundSchema = z.object({
    description: types.optional(types.string()),
    createdBy: types.optional(types.string()),
    usedByFlags: types.optional(z.array(types.string())),
    usedBySegments: types.optional(z.array(types.string())),
    id: types.string(),
    label: types.string(),
    slug: types.string(),
    createdAt: types.number(),
    updatedAt: types.number(),
    projectId: types.string(),
    typeName: SegmentTypeName$inboundSchema,
    data: z.lazy(() => Data$inboundSchema),
    hint: types.string(),
    metadata: types.optional(z.lazy(() => SegmentMetadata$inboundSchema)),
});
/** @internal */
export const Segment$outboundSchema = z.object({
    description: z.string().optional(),
    createdBy: z.string().optional(),
    usedByFlags: z.array(z.string()).optional(),
    usedBySegments: z.array(z.string()).optional(),
    id: z.string(),
    label: z.string(),
    slug: z.string(),
    createdAt: z.number(),
    updatedAt: z.number(),
    projectId: z.string(),
    typeName: SegmentTypeName$outboundSchema,
    data: z.lazy(() => Data$outboundSchema),
    hint: z.string(),
    metadata: z.lazy(() => SegmentMetadata$outboundSchema).optional(),
});
export function segmentToJSON(segment) {
    return JSON.stringify(Segment$outboundSchema.parse(segment));
}
export function segmentFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Segment$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Segment' from JSON`);
}
//# sourceMappingURL=segment.js.map