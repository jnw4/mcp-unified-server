/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */
import * as z from "zod/v3";
import { safeParse } from "../lib/schemas.js";
import * as types from "../types/primitives.js";
import { smartUnion } from "../types/smartUnion.js";
export const FlagType = {
    Variant: "variant",
};
export const FlagFallthroughEnvironmentsType = {
    Entity: "entity",
};
export const FlagOutcomeEnvironmentsType = {
    Entity: "entity",
};
export const FlagRhsType = {
    Regex: "regex",
};
export const RhsType = {
    ListInline: "list/inline",
    List: "list",
};
export const Cmp = {
    Eq: "eq",
    NotEq: "!eq",
    OneOf: "oneOf",
    NotOneOf: "!oneOf",
    ContainsAllOf: "containsAllOf",
    ContainsAnyOf: "containsAnyOf",
    ContainsNoneOf: "containsNoneOf",
    StartsWith: "startsWith",
    NotStartsWith: "!startsWith",
    EndsWith: "endsWith",
    NotEndsWith: "!endsWith",
    Ex: "ex",
    NotEx: "!ex",
    Gt: "gt",
    Gte: "gte",
    Lt: "lt",
    Lte: "lte",
    Regex: "regex",
    NotRegex: "!regex",
    Before: "before",
    After: "after",
};
export const Kind = {
    String: "string",
    Number: "number",
    Boolean: "boolean",
};
export const State = {
    Active: "active",
    Archived: "archived",
};
export const TypeName = {
    Flag: "flag",
};
/** @internal */
export const Value$inboundSchema = smartUnion([types.string(), types.number(), types.boolean()]);
/** @internal */
export const Value$outboundSchema = smartUnion([z.string(), z.number(), z.boolean()]);
export function valueToJSON(value) {
    return JSON.stringify(Value$outboundSchema.parse(value));
}
export function valueFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Value$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Value' from JSON`);
}
/** @internal */
export const Variants$inboundSchema = z.object({
    description: types.optional(types.string()),
    label: types.optional(types.string()),
    value: smartUnion([types.string(), types.number(), types.boolean()]),
    id: types.string(),
});
/** @internal */
export const Variants$outboundSchema = z.object({
    description: z.string().optional(),
    label: z.string().optional(),
    value: smartUnion([z.string(), z.number(), z.boolean()]),
    id: z.string(),
});
export function variantsToJSON(variants) {
    return JSON.stringify(Variants$outboundSchema.parse(variants));
}
export function variantsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Variants$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Variants' from JSON`);
}
/** @internal */
export const Reuse$inboundSchema = z
    .object({
    active: types.boolean(),
    environment: types.string(),
});
/** @internal */
export const Reuse$outboundSchema = z.object({
    active: z.boolean(),
    environment: z.string(),
});
export function reuseToJSON(reuse) {
    return JSON.stringify(Reuse$outboundSchema.parse(reuse));
}
export function reuseFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Reuse$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Reuse' from JSON`);
}
/** @internal */
export const Targets$inboundSchema = z.object({
    note: types.optional(types.string()),
    value: types.string(),
});
/** @internal */
export const Targets$outboundSchema = z.object({
    note: z.string().optional(),
    value: z.string(),
});
export function targetsToJSON(targets) {
    return JSON.stringify(Targets$outboundSchema.parse(targets));
}
export function targetsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Targets$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Targets' from JSON`);
}
/** @internal */
export const FlagType$inboundSchema = z
    .nativeEnum(FlagType);
/** @internal */
export const FlagType$outboundSchema = FlagType$inboundSchema;
/** @internal */
export const PausedOutcome$inboundSchema = z.object({
    type: FlagType$inboundSchema,
    variantId: types.string(),
});
/** @internal */
export const PausedOutcome$outboundSchema = z.object({
    type: FlagType$outboundSchema,
    variantId: z.string(),
});
export function pausedOutcomeToJSON(pausedOutcome) {
    return JSON.stringify(PausedOutcome$outboundSchema.parse(pausedOutcome));
}
export function pausedOutcomeFromJSON(jsonString) {
    return safeParse(jsonString, (x) => PausedOutcome$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'PausedOutcome' from JSON`);
}
/** @internal */
export const FlagFallthroughEnvironmentsType$inboundSchema = z.nativeEnum(FlagFallthroughEnvironmentsType);
/** @internal */
export const FlagFallthroughEnvironmentsType$outboundSchema = FlagFallthroughEnvironmentsType$inboundSchema;
/** @internal */
export const Base$inboundSchema = z
    .object({
    type: FlagFallthroughEnvironmentsType$inboundSchema,
    kind: types.string(),
    attribute: types.string(),
});
/** @internal */
export const Base$outboundSchema = z.object({
    type: FlagFallthroughEnvironmentsType$outboundSchema,
    kind: z.string(),
    attribute: z.string(),
});
export function baseToJSON(base) {
    return JSON.stringify(Base$outboundSchema.parse(base));
}
export function baseFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Base$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Base' from JSON`);
}
/** @internal */
export const Fallthrough2$inboundSchema = z.object({
    type: types.literal("split"),
    base: z.lazy(() => Base$inboundSchema),
    weights: z.record(types.number()),
    defaultVariantId: types.string(),
});
/** @internal */
export const Fallthrough2$outboundSchema = z.object({
    type: z.literal("split"),
    base: z.lazy(() => Base$outboundSchema),
    weights: z.record(z.number()),
    defaultVariantId: z.string(),
});
export function fallthrough2ToJSON(fallthrough2) {
    return JSON.stringify(Fallthrough2$outboundSchema.parse(fallthrough2));
}
export function fallthrough2FromJSON(jsonString) {
    return safeParse(jsonString, (x) => Fallthrough2$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Fallthrough2' from JSON`);
}
/** @internal */
export const Fallthrough1$inboundSchema = z.object({
    type: types.literal("variant"),
    variantId: types.string(),
});
/** @internal */
export const Fallthrough1$outboundSchema = z.object({
    type: z.literal("variant"),
    variantId: z.string(),
});
export function fallthrough1ToJSON(fallthrough1) {
    return JSON.stringify(Fallthrough1$outboundSchema.parse(fallthrough1));
}
export function fallthrough1FromJSON(jsonString) {
    return safeParse(jsonString, (x) => Fallthrough1$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Fallthrough1' from JSON`);
}
/** @internal */
export const Fallthrough$inboundSchema = z.union([
    z.lazy(() => Fallthrough1$inboundSchema),
    z.lazy(() => Fallthrough2$inboundSchema),
]);
/** @internal */
export const Fallthrough$outboundSchema = z.union([
    z.lazy(() => Fallthrough1$outboundSchema),
    z.lazy(() => Fallthrough2$outboundSchema),
]);
export function fallthroughToJSON(fallthrough) {
    return JSON.stringify(Fallthrough$outboundSchema.parse(fallthrough));
}
export function fallthroughFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Fallthrough$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Fallthrough' from JSON`);
}
/** @internal */
export const FlagOutcomeEnvironmentsType$inboundSchema = z.nativeEnum(FlagOutcomeEnvironmentsType);
/** @internal */
export const FlagOutcomeEnvironmentsType$outboundSchema = FlagOutcomeEnvironmentsType$inboundSchema;
/** @internal */
export const OutcomeBase$inboundSchema = z.object({
    type: FlagOutcomeEnvironmentsType$inboundSchema,
    kind: types.string(),
    attribute: types.string(),
});
/** @internal */
export const OutcomeBase$outboundSchema = z.object({
    type: FlagOutcomeEnvironmentsType$outboundSchema,
    kind: z.string(),
    attribute: z.string(),
});
export function outcomeBaseToJSON(outcomeBase) {
    return JSON.stringify(OutcomeBase$outboundSchema.parse(outcomeBase));
}
export function outcomeBaseFromJSON(jsonString) {
    return safeParse(jsonString, (x) => OutcomeBase$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'OutcomeBase' from JSON`);
}
/** @internal */
export const Outcome2$inboundSchema = z.object({
    type: types.literal("split"),
    base: z.lazy(() => OutcomeBase$inboundSchema),
    weights: z.record(types.number()),
    defaultVariantId: types.string(),
});
/** @internal */
export const Outcome2$outboundSchema = z.object({
    type: z.literal("split"),
    base: z.lazy(() => OutcomeBase$outboundSchema),
    weights: z.record(z.number()),
    defaultVariantId: z.string(),
});
export function outcome2ToJSON(outcome2) {
    return JSON.stringify(Outcome2$outboundSchema.parse(outcome2));
}
export function outcome2FromJSON(jsonString) {
    return safeParse(jsonString, (x) => Outcome2$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Outcome2' from JSON`);
}
/** @internal */
export const Outcome1$inboundSchema = z.object({
    type: types.literal("variant"),
    variantId: types.string(),
});
/** @internal */
export const Outcome1$outboundSchema = z.object({
    type: z.literal("variant"),
    variantId: z.string(),
});
export function outcome1ToJSON(outcome1) {
    return JSON.stringify(Outcome1$outboundSchema.parse(outcome1));
}
export function outcome1FromJSON(jsonString) {
    return safeParse(jsonString, (x) => Outcome1$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Outcome1' from JSON`);
}
/** @internal */
export const Outcome$inboundSchema = z.union([
    z.lazy(() => Outcome1$inboundSchema),
    z.lazy(() => Outcome2$inboundSchema),
]);
/** @internal */
export const Outcome$outboundSchema = z.union([
    z.lazy(() => Outcome1$outboundSchema),
    z.lazy(() => Outcome2$outboundSchema),
]);
export function outcomeToJSON(outcome) {
    return JSON.stringify(Outcome$outboundSchema.parse(outcome));
}
export function outcomeFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Outcome$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Outcome' from JSON`);
}
/** @internal */
export const FlagRhsType$inboundSchema = z
    .nativeEnum(FlagRhsType);
/** @internal */
export const FlagRhsType$outboundSchema = FlagRhsType$inboundSchema;
/** @internal */
export const Rhs4$inboundSchema = z
    .object({
    type: FlagRhsType$inboundSchema,
    pattern: types.string(),
    flags: types.string(),
});
/** @internal */
export const Rhs4$outboundSchema = z.object({
    type: FlagRhsType$outboundSchema,
    pattern: z.string(),
    flags: z.string(),
});
export function rhs4ToJSON(rhs4) {
    return JSON.stringify(Rhs4$outboundSchema.parse(rhs4));
}
export function rhs4FromJSON(jsonString) {
    return safeParse(jsonString, (x) => Rhs4$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Rhs4' from JSON`);
}
/** @internal */
export const RhsType$inboundSchema = z
    .nativeEnum(RhsType);
/** @internal */
export const RhsType$outboundSchema = RhsType$inboundSchema;
/** @internal */
export const Items2$inboundSchema = z
    .object({
    label: types.optional(types.string()),
    note: types.optional(types.string()),
    value: types.string(),
});
/** @internal */
export const Items2$outboundSchema = z.object({
    label: z.string().optional(),
    note: z.string().optional(),
    value: z.string(),
});
export function items2ToJSON(items2) {
    return JSON.stringify(Items2$outboundSchema.parse(items2));
}
export function items2FromJSON(jsonString) {
    return safeParse(jsonString, (x) => Items2$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Items2' from JSON`);
}
/** @internal */
export const Items1$inboundSchema = z
    .object({
    label: types.optional(types.string()),
    note: types.optional(types.string()),
    value: types.number(),
});
/** @internal */
export const Items1$outboundSchema = z.object({
    label: z.string().optional(),
    note: z.string().optional(),
    value: z.number(),
});
export function items1ToJSON(items1) {
    return JSON.stringify(Items1$outboundSchema.parse(items1));
}
export function items1FromJSON(jsonString) {
    return safeParse(jsonString, (x) => Items1$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Items1' from JSON`);
}
/** @internal */
export const RhsItems$inboundSchema = smartUnion([
    z.lazy(() => Items1$inboundSchema),
    z.lazy(() => Items2$inboundSchema),
]);
/** @internal */
export const RhsItems$outboundSchema = smartUnion([
    z.lazy(() => Items1$outboundSchema),
    z.lazy(() => Items2$outboundSchema),
]);
export function rhsItemsToJSON(rhsItems) {
    return JSON.stringify(RhsItems$outboundSchema.parse(rhsItems));
}
export function rhsItemsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => RhsItems$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'RhsItems' from JSON`);
}
/** @internal */
export const Rhs3$inboundSchema = z
    .object({
    type: RhsType$inboundSchema,
    items: z.array(smartUnion([
        z.lazy(() => Items1$inboundSchema),
        z.lazy(() => Items2$inboundSchema),
    ])),
});
/** @internal */
export const Rhs3$outboundSchema = z.object({
    type: RhsType$outboundSchema,
    items: z.array(smartUnion([
        z.lazy(() => Items1$outboundSchema),
        z.lazy(() => Items2$outboundSchema),
    ])),
});
export function rhs3ToJSON(rhs3) {
    return JSON.stringify(Rhs3$outboundSchema.parse(rhs3));
}
export function rhs3FromJSON(jsonString) {
    return safeParse(jsonString, (x) => Rhs3$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Rhs3' from JSON`);
}
/** @internal */
export const Rhs$inboundSchema = smartUnion([
    z.lazy(() => Rhs4$inboundSchema),
    z.lazy(() => Rhs3$inboundSchema),
    types.string(),
    types.number(),
    types.boolean(),
]);
/** @internal */
export const Rhs$outboundSchema = smartUnion([
    z.lazy(() => Rhs4$outboundSchema),
    z.lazy(() => Rhs3$outboundSchema),
    z.string(),
    z.number(),
    z.boolean(),
]);
export function rhsToJSON(rhs) {
    return JSON.stringify(Rhs$outboundSchema.parse(rhs));
}
export function rhsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Rhs$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Rhs' from JSON`);
}
/** @internal */
export const Lhs2$inboundSchema = z
    .object({
    type: types.literal("entity"),
    kind: types.string(),
    attribute: types.string(),
});
/** @internal */
export const Lhs2$outboundSchema = z.object({
    type: z.literal("entity"),
    kind: z.string(),
    attribute: z.string(),
});
export function lhs2ToJSON(lhs2) {
    return JSON.stringify(Lhs2$outboundSchema.parse(lhs2));
}
export function lhs2FromJSON(jsonString) {
    return safeParse(jsonString, (x) => Lhs2$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Lhs2' from JSON`);
}
/** @internal */
export const Lhs1$inboundSchema = z
    .object({
    type: types.literal("segment"),
});
/** @internal */
export const Lhs1$outboundSchema = z.object({
    type: z.literal("segment"),
});
export function lhs1ToJSON(lhs1) {
    return JSON.stringify(Lhs1$outboundSchema.parse(lhs1));
}
export function lhs1FromJSON(jsonString) {
    return safeParse(jsonString, (x) => Lhs1$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Lhs1' from JSON`);
}
/** @internal */
export const Lhs$inboundSchema = z.union([z.lazy(() => Lhs1$inboundSchema), z.lazy(() => Lhs2$inboundSchema)]);
/** @internal */
export const Lhs$outboundSchema = z
    .union([
    z.lazy(() => Lhs1$outboundSchema),
    z.lazy(() => Lhs2$outboundSchema),
]);
export function lhsToJSON(lhs) {
    return JSON.stringify(Lhs$outboundSchema.parse(lhs));
}
export function lhsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Lhs$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Lhs' from JSON`);
}
/** @internal */
export const Cmp$inboundSchema = z.nativeEnum(Cmp);
/** @internal */
export const Cmp$outboundSchema = Cmp$inboundSchema;
/** @internal */
export const Conditions$inboundSchema = z.object({
    rhs: types.optional(smartUnion([
        z.lazy(() => Rhs4$inboundSchema),
        z.lazy(() => Rhs3$inboundSchema),
        types.string(),
        types.number(),
        types.boolean(),
    ])),
    lhs: z.union([
        z.lazy(() => Lhs1$inboundSchema),
        z.lazy(() => Lhs2$inboundSchema),
    ]),
    cmp: Cmp$inboundSchema,
});
/** @internal */
export const Conditions$outboundSchema = z.object({
    rhs: smartUnion([
        z.lazy(() => Rhs4$outboundSchema),
        z.lazy(() => Rhs3$outboundSchema),
        z.string(),
        z.number(),
        z.boolean(),
    ]).optional(),
    lhs: z.union([
        z.lazy(() => Lhs1$outboundSchema),
        z.lazy(() => Lhs2$outboundSchema),
    ]),
    cmp: Cmp$outboundSchema,
});
export function conditionsToJSON(conditions) {
    return JSON.stringify(Conditions$outboundSchema.parse(conditions));
}
export function conditionsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Conditions$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Conditions' from JSON`);
}
/** @internal */
export const Rules$inboundSchema = z
    .object({
    id: types.string(),
    outcome: z.union([
        z.lazy(() => Outcome1$inboundSchema),
        z.lazy(() => Outcome2$inboundSchema),
    ]),
    conditions: z.array(z.lazy(() => Conditions$inboundSchema)),
});
/** @internal */
export const Rules$outboundSchema = z.object({
    id: z.string(),
    outcome: z.union([
        z.lazy(() => Outcome1$outboundSchema),
        z.lazy(() => Outcome2$outboundSchema),
    ]),
    conditions: z.array(z.lazy(() => Conditions$outboundSchema)),
});
export function rulesToJSON(rules) {
    return JSON.stringify(Rules$outboundSchema.parse(rules));
}
export function rulesFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Rules$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Rules' from JSON`);
}
/** @internal */
export const Environments$inboundSchema = z.object({
    reuse: types.optional(z.lazy(() => Reuse$inboundSchema)),
    targets: types.optional(z.record(z.record(z.record(z.array(z.lazy(() => Targets$inboundSchema)))))),
    revision: types.optional(types.number()),
    pausedOutcome: z.lazy(() => PausedOutcome$inboundSchema),
    fallthrough: z.union([
        z.lazy(() => Fallthrough1$inboundSchema),
        z.lazy(() => Fallthrough2$inboundSchema),
    ]),
    active: types.boolean(),
    rules: z.array(z.lazy(() => Rules$inboundSchema)),
});
/** @internal */
export const Environments$outboundSchema = z.object({
    reuse: z.lazy(() => Reuse$outboundSchema).optional(),
    targets: z.record(z.record(z.record(z.array(z.lazy(() => Targets$outboundSchema))))).optional(),
    revision: z.number().optional(),
    pausedOutcome: z.lazy(() => PausedOutcome$outboundSchema),
    fallthrough: z.union([
        z.lazy(() => Fallthrough1$outboundSchema),
        z.lazy(() => Fallthrough2$outboundSchema),
    ]),
    active: z.boolean(),
    rules: z.array(z.lazy(() => Rules$outboundSchema)),
});
export function environmentsToJSON(environments) {
    return JSON.stringify(Environments$outboundSchema.parse(environments));
}
export function environmentsFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Environments$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Environments' from JSON`);
}
/** @internal */
export const Kind$inboundSchema = z.nativeEnum(Kind);
/** @internal */
export const Kind$outboundSchema = Kind$inboundSchema;
/** @internal */
export const State$inboundSchema = z.nativeEnum(State);
/** @internal */
export const State$outboundSchema = State$inboundSchema;
/** @internal */
export const TypeName$inboundSchema = z
    .nativeEnum(TypeName);
/** @internal */
export const TypeName$outboundSchema = TypeName$inboundSchema;
/** @internal */
export const Creator$inboundSchema = z.object({
    id: types.string(),
    name: types.string(),
});
/** @internal */
export const Creator$outboundSchema = z.object({
    id: z.string(),
    name: z.string(),
});
export function creatorToJSON(creator) {
    return JSON.stringify(Creator$outboundSchema.parse(creator));
}
export function creatorFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Creator$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Creator' from JSON`);
}
/** @internal */
export const Metadata$inboundSchema = z.object({
    creator: types.optional(z.lazy(() => Creator$inboundSchema)),
});
/** @internal */
export const Metadata$outboundSchema = z.object({
    creator: z.lazy(() => Creator$outboundSchema).optional(),
});
export function metadataToJSON(metadata) {
    return JSON.stringify(Metadata$outboundSchema.parse(metadata));
}
export function metadataFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Metadata$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Metadata' from JSON`);
}
/** @internal */
export const Flag$inboundSchema = z
    .object({
    description: types.optional(types.string()),
    variants: z.array(z.lazy(() => Variants$inboundSchema)),
    id: types.string(),
    environments: z.record(z.lazy(() => Environments$inboundSchema)),
    kind: Kind$inboundSchema,
    revision: types.number(),
    seed: types.number(),
    state: State$inboundSchema,
    slug: types.string(),
    createdAt: types.number(),
    updatedAt: types.number(),
    createdBy: types.string(),
    ownerId: types.string(),
    projectId: types.string(),
    typeName: TypeName$inboundSchema,
    metadata: types.optional(z.lazy(() => Metadata$inboundSchema)),
});
/** @internal */
export const Flag$outboundSchema = z.object({
    description: z.string().optional(),
    variants: z.array(z.lazy(() => Variants$outboundSchema)),
    id: z.string(),
    environments: z.record(z.lazy(() => Environments$outboundSchema)),
    kind: Kind$outboundSchema,
    revision: z.number(),
    seed: z.number(),
    state: State$outboundSchema,
    slug: z.string(),
    createdAt: z.number(),
    updatedAt: z.number(),
    createdBy: z.string(),
    ownerId: z.string(),
    projectId: z.string(),
    typeName: TypeName$outboundSchema,
    metadata: z.lazy(() => Metadata$outboundSchema).optional(),
});
export function flagToJSON(flag) {
    return JSON.stringify(Flag$outboundSchema.parse(flag));
}
export function flagFromJSON(jsonString) {
    return safeParse(jsonString, (x) => Flag$inboundSchema.parse(JSON.parse(x)), `Failed to parse 'Flag' from JSON`);
}
//# sourceMappingURL=flag.js.map